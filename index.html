<html>

    <head>

        <title>Projeto NewTab 1</title>
        
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale-1">
        <link rel="stylesheet" type="text/css" href="css/style.css">
        <link href="https://fonts.googleapis.com/css2?family=Lato&display=swap" rel="stylesheet">

        <script src="https://kit.fontawesome.com/12bfc7a935.js" crossorigin="anonymous"></script>
        <script type = "text/javascript" src="js/script.js"></script>
        <!--Scripts Jquery - mascara do campo valor exemplo "1.000.000,00"-->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" 
        integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ==" 
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
        <script type = "text/javascript" src="js/jquery.mask.js"></script>
        <script type="text/javascript">
            //Função responsavel por introduzir a mascara no input valor
            $(document).ready(function(){
                $('#valor').mask('#.##0,00', {reverse: true})
            })
        </script>
    </head>
    <!--classe responsavel por carregar os dados da tabela, sempre que acontecer o carregamento do body/page-->
    <body onload="carregarTabela(), carregarTotal()">

        <!--Start Header-->
        <header class="container-header">
            <div class="content-header">
                <div class="logo">
                    <img src="image/icon.png">
                </div>
                <div class="text-header">
                    <p>Controle Financeiro</p>
                </div>
                <div class="menu-container">
                    <a><i class="fas fa-bars"></i></a>   
                    <nav class="menu-nav">
                        <ul>
                            <div class="close-icon-menu"><a href=""><i class="fas fa-times"></i></a></div>
                            <li><a href="#">Cadastro de transações</a></li>|
                            <li><a href="#" onclick="escolherChamada()">Salvar no servidor</a></li>|
                            <li><a href="" onclick="deletarTudo()">Limpar dados</a></li>
                        </ul>
                    </nav>
                </div>
            </div>
        </header>
        <!--End Header-->
        
        <!--Start form and table-->
        <div class="container-form-extract">
            <!--Start form - Classe referente ao corpo do formulário-->
            <div class="form-body">
                
                <div>
                    <p>Nova Transação</p>
                </div>
    
                <form id="form">
                    <div class="select-form-config">
                        <label for="tipo">Tipo de transação</label>
                        <select id="tipo" required>
                            <option value="">Tipo</option>
                            <option value="Compra">Compra</option>
                            <option value="Venda">Venda</option>
                        </select>
                    </div>
                    <div class="mercadoria-form-config">
                        <label for="mercadoria">Nome da mercadoria</label>
                        <input placeholder=" Nome da mercadoria" type="text" id="mercadoria" required>
                        <div id="erroMercadoria" class="erro"></div>
                    </div>
                    <div class="valor-form-config">
                        <label for="valor">Valor</label>
                        <input type="text" id="valor" placeholder="R$ 0,00" required>
                        <div id="erroValor" class="erro"></div>
                    </div>
                    <div class="button-config">
                        <button id="button_input" type="button" value="adicionar transação" onclick="cadastrarTransacoes()">Adicionar transação</button>
                    </div>
                </form>
                <hr>
            </div>
            <!--End Form-->
            <!--Start table container-->
            <div class="container-extract">
                
                <p>Extrato de Transações</p>
                
                <table class="table-config">
                    <tr class="extract-title">
                        <th></th>
                        <th class="align-text-left">Mercadoria</th>
                        <th class="align-text-right">Valor</th>
                    </tr>
                    <tr>
                        <td colspan="3" class="border-between-row"></td>
                    </tr>
                    <tbody id="listarTabela">
                        <tr>
                            <td colspan="3">Não há transações cadastradas</td>
                        </tr>
                    </tbody>   
                    <tr>
                        <td colspan="3" class="border-between-row-bottom"></td>
                    </tr>
                    <tr>
                        <td></td>
                        <td class="align-text-left">Total</td>
                        <td class="align-text-right" id="recebeTotal">Total</td>
                    </tr>
                    <tr>
                        <td id="lucroPrejuizo" colspan="3" class="align-text-right"></td>
                    </tr>
                </table>
            </div>
            <!--End table-->
        </div>
        <!--Start footer-->
        <footer>
            <div class="footer">
            </div>
        </footer>
        <!--End footer-->
        <script>
            getJson();
        </script>
    </body>
</html>